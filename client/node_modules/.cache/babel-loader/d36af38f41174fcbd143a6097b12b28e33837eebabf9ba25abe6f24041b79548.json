{"ast":null,"code":"import _regeneratorRuntime from\"/Users/murtazamustafa/Desktop/CS/projects/yearbook/yearbook/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/murtazamustafa/Desktop/CS/projects/yearbook/yearbook/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/murtazamustafa/Desktop/CS/projects/yearbook/yearbook/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/murtazamustafa/Desktop/CS/projects/yearbook/yearbook/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/murtazamustafa/Desktop/CS/projects/yearbook/yearbook/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{BranchData}from\"./constants/BranchData\";import{clubs,startRollNumber,studentYear}from\"./constants\";import axios from\"axios\";import{Row,Col,Spinner,Button,Toast,ToastContainer}from\"react-bootstrap\";import\"./DetailsForm.css\";import{Form as BootstrapForm}from\"react-bootstrap\";import{Form,Field,FieldArray,Formik}from\"formik\";import*as yup from\"yup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var phoneRegExp=/^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;var requiredErrorMessage=\"This field is required\";var emailErrorMessage=\"This email id is invalid\";var phoneErrorMessage=\"This phone number is invalid\";var phoneLengthErrorMessage=\"This phone number can only be 10 characters\";var quoteErrorMessage=\"Quote can only be 80 characters long\";var duplicateErrorMessage=\"Duplicate club entries found !\";var requestTimeOutErrorMessage=\"Request Timed out! Please check your internet connection or please contact us if the issue persists.\";var imageSizeErrorMessage=\"Image size cannot be greater than 5MB\";yup.addMethod(yup.array,\"distinctEntries\",function(errorMessage){return this.test(\"test-distinct-entries\",errorMessage,function(value){var path=this.path,createError=this.createError;return _toConsumableArray(new Set(value)).length===value.length||createError({path:path,message:errorMessage});});});yup.addMethod(yup.string,\"maxImageSize\",function(errorMessage){return this.test(\"test-max-image-size\",errorMessage,function(value){var path=this.path,createError=this.createError;console.log(value);var finalLength=value?atob(value.substring(value.indexOf(\",\")+1)).length:0;console.log(finalLength/(1024*1024));return finalLength<=5*1024*1024||createError({path:path,message:errorMessage});});});var validationSchema=yup.object().shape({name:yup.string().required(requiredErrorMessage),department:yup.string().required(requiredErrorMessage),rollNumber:yup.string().required(requiredErrorMessage),email:yup.string().required(requiredErrorMessage).email(emailErrorMessage),phone:yup.string().required(requiredErrorMessage).matches(phoneRegExp,phoneErrorMessage).min(10,phoneLengthErrorMessage).max(10,phoneLengthErrorMessage),image:yup.string().required(requiredErrorMessage).maxImageSize(imageSizeErrorMessage),clubs:yup.array().distinctEntries(duplicateErrorMessage),quote:yup.string().max(80,quoteErrorMessage),wing:yup.string()});export default function DetailsForm(){var _useParams=useParams(),department=_useParams.department;var getRollNumbers=function getRollNumbers(){var rollNumbers=[];for(var i=startRollNumber;i<=BranchData[department].end;i++){rollNumbers.push(\"\".concat(studentYear).concat(department).concat(i));}rollNumbers.concat(BranchData[department].additionalRollNumbers);return rollNumbers;};var rollNumbers=getRollNumbers();var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),uploadingImage=_useState2[0],setUploadingImage=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var toggleShow=function toggleShow(){return setShow(!show);};var initialValues={name:\"\",department:department,rollNumber:rollNumbers[0],email:\"\",phone:\"\",image:\"\",clubs:[],quote:\"\",wing:\"\"};var renderRollNumbers=function renderRollNumbers(){return rollNumbers.map(function(rollNumber){return/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(rollNumber),children:\"\".concat(rollNumber)},rollNumber);});};var renderClubOptions=function renderClubOptions(){return clubs.map(function(club){return/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(club),children:\"\".concat(club)},club);});};var handleFileUpload=function handleFileUpload(e,values,setValues){var reader=new FileReader();var file=e.target.files[0];reader.onloadend=function(){// console.log(reader.result);\n// field.onChange(e);\nsetValues(_objectSpread(_objectSpread({},values),{},{image:reader.result}));};reader.readAsDataURL(file);};var uploadImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(image){var data,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);data.append(\"folder\",process.env.REACT_APP_CLOUDINARY_UPLOAD_FOLDER);_context.prev=4;_context.next=7;return axios.post(process.env.REACT_APP_CLOUD_URL,data);case 7:response=_context.sent;console.log(response);if(response.data.url){_context.next=11;break;}throw\"Sorry, could not upload image.Please try again later.\";case 11:return _context.abrupt(\"return\",response.data.url);case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);console.log(_context.t0);if(!(_context.t0.code===\"ERR_NETWORK\")){_context.next=19;break;}throw requestTimeOutErrorMessage;case 19:throw _context.t0.stringify();case 20:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function uploadImage(_x){return _ref.apply(this,arguments);};}();var renderErrorToast=function renderErrorToast(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Toast,{show:show,onClose:toggleShow,className:\"error-toast-main\",children:[/*#__PURE__*/_jsx(Toast.Header,{className:\"error-toast-header\",children:/*#__PURE__*/_jsx(\"strong\",{className:\"ms-auto text-center error-toast-header-text\",children:\"Error\"})}),/*#__PURE__*/_jsx(Toast.Body,{className:\"error-toast text-center\",children:error})]})});};var checkIfAlreadyExists=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(rollNumber){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/check/\").concat(rollNumber));case 3:response=_context2.sent;console.log(\"Check if exists:\",response);if(!response.data.error){_context2.next=7;break;}throw response.data.error;case 7:_context2.next=14;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);if(!(_context2.t0.code===\"ERR_NETWORK\")){_context2.next=13;break;}throw requestTimeOutErrorMessage;case 13:throw _context2.t0;case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function checkIfAlreadyExists(_x2){return _ref2.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(values,setSubmitting){var imageUrl,response,errorMessage;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return checkIfAlreadyExists(values.rollNumber);case 3:setUploadingImage(1);_context3.next=6;return uploadImage(values.image);case 6:imageUrl=_context3.sent;setUploadingImage(0);_context3.next=10;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/submit\"),_objectSpread(_objectSpread({},values),{},{image:imageUrl}));case 10:response=_context3.sent;if(response.data.success){navigate(\"/submit\");}throw response.data.error;case 15:_context3.prev=15;_context3.t0=_context3[\"catch\"](0);errorMessage=_context3.t0.toString();console.log(errorMessage);setShow(1);setError(errorMessage);case 21:setSubmitting(false);case 22:case\"end\":return _context3.stop();}}},_callee3,null,[[0,15]]);}));return function handleSubmit(_x3,_x4){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"DetailsForm\",children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#808080\",fontSize:\"13px\",marginTop:\"5px\"},children:/*#__PURE__*/_jsxs(\"center\",{children:[\"For more information, contact Aditya Mitra (\",/*#__PURE__*/_jsx(\"a\",{href:\"tel:9038055767\",children:\"9038055767\"}),\") or M (\",/*#__PURE__*/_jsx(\"a\",{href:\"tel:9830372570\",children:\"9830372570\"}),\").\"]})}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:function onSubmit(values,_ref4){var setSubmitting=_ref4.setSubmitting;console.log(values);handleSubmit(values,setSubmitting);},validationSchema:validationSchema,children:function children(_ref5){var values=_ref5.values,setValues=_ref5.setValues,errors=_ref5.errors,touched=_ref5.touched,isSubmitting=_ref5.isSubmitting;return/*#__PURE__*/_jsxs(Form,{className:\"contact100-form\",children:[/*#__PURE__*/_jsx(Field,{name:\"name\",children:function children(_ref6){var field=_ref6.field,_ref6$form=_ref6.form,touched=_ref6$form.touched,errors=_ref6$form.errors,meta=_ref6.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Full Name:\",/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},children:\"*\"})]})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input100\",type:\"text\"},field)),/*#__PURE__*/_jsx(\"span\",{className:\"error focus-input100\"})]}),errors.name&&touched.name&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.name})]});}}),/*#__PURE__*/_jsx(Field,{name:\"department\",children:function children(_ref7){var field=_ref7.field,_ref7$form=_ref7.form,touched=_ref7$form.touched,errors=_ref7$form.errors,meta=_ref7.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Department:\",/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},children:\"*\"})]})}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"input100\",type:\"text\"},field),{},{readOnly:true})),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.department&&touched.department&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.department})]});}}),/*#__PURE__*/_jsx(Field,{name:\"rollNumber\",children:function children(_ref8){var field=_ref8.field,_ref8$form=_ref8.form,touched=_ref8$form.touched,errors=_ref8$form.errors,meta=_ref8.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label-input100\",children:[\"Roll No.\",/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},children:\"*\"})]}),/*#__PURE__*/_jsx(\"select\",_objectSpread(_objectSpread({className:\"input100\",name:\"rollNumber\"},field),{},{children:renderRollNumbers()})),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.rollNumber&&touched.rollNumber&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.rollNumber})]});}}),/*#__PURE__*/_jsx(Field,{name:\"email\",children:function children(_ref9){var field=_ref9.field,_ref9$form=_ref9.form,touched=_ref9$form.touched,errors=_ref9$form.errors,meta=_ref9.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},children:\"*\"})]})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input100\",type:\"text\"},field)),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.email&&touched.email&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.email})]});}}),/*#__PURE__*/_jsx(Field,{name:\"phone\",children:function children(_ref10){var field=_ref10.field,_ref10$form=_ref10.form,touched=_ref10$form.touched,errors=_ref10$form.errors,meta=_ref10.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Phone:\",/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},children:\"*\"})]})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input100\",type:\"text\"},field)),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.phone&&touched.phone&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.phone})]});}}),/*#__PURE__*/_jsx(Field,{name:\"image\",children:function children(_ref11){var field=_ref11.field,_ref11$form=_ref11.form,touched=_ref11$form.touched,errors=_ref11$form.errors,meta=_ref11.meta;console.log(errors.image,touched);return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 validate-input photo-wrapper\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"label-input100\",children:[\"Photo\",/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},children:\"*\"})]}),/*#__PURE__*/_jsx(BootstrapForm.Control,{type:\"file\",name:\"photo\",accept:\"image/*\",onChange:function onChange(e){handleFileUpload(e,values,setValues);}}),values.image?/*#__PURE__*/_jsx(\"img\",{id:\"photo-display\",src:values.image}):null,/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.image&&touched.image&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.image})]});}}),/*#__PURE__*/_jsx(FieldArray,{name:\"clubs\",children:function children(arrayHelpers){return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:\"Clubs:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success add-button\",type:\"button\",onClick:function onClick(){return arrayHelpers.push(clubs[0]);},children:\"Add Club(s)\"})}),values.clubs&&values.clubs.length>0?values.clubs.map(function(friend,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:10,children:/*#__PURE__*/_jsx(Field,{className:\"input-wrapper\",name:\"clubs.\".concat(index),children:function children(_ref12){var field=_ref12.field,_ref12$form=_ref12.form,touched=_ref12$form.touched,errors=_ref12$form.errors,meta=_ref12.meta;return/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100 club-options-render\",children:[/*#__PURE__*/_jsx(\"select\",_objectSpread(_objectSpread({className:\"input100\"},field),{},{size:\"sm\",children:renderClubOptions()})),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]});}})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close\",\"aria-label\":\"Close\",onClick:function onClick(){return arrayHelpers.remove(index);}})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]},index);}):null]}),errors.clubs&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.clubs})]});}}),/*#__PURE__*/_jsx(Field,{name:\"wing\",children:function children(_ref13){var field=_ref13.field,_ref13$form=_ref13.form,touched=_ref13$form.touched,errors=_ref13$form.errors,meta=_ref13.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Wing:\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input100\",type:\"text\"},field)),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.wing&&touched.wing&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.wing})]});}}),/*#__PURE__*/_jsx(Field,{name:\"quote\",children:function children(_ref14){var field=_ref14.field,_ref14$form=_ref14.form,touched=_ref14$form.touched,errors=_ref14$form.errors,meta=_ref14.meta;return/*#__PURE__*/_jsxs(\"div\",{class:\"input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-input100\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-input100\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Quote:\"})}),/*#__PURE__*/_jsx(\"input\",_objectSpread({className:\"input100\",type:\"text\"},field)),/*#__PURE__*/_jsx(\"span\",{className:\"focus-input100\"})]}),errors.quote&&touched.quote&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.quote})]});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-contact100-form-btn d-grid gap-2\",children:[show?renderErrorToast():null,/*#__PURE__*/_jsx(\"button\",{className:\"btn-block contact100-form-btn\",disabled:isSubmitting,type:\"submit\",children:/*#__PURE__*/_jsx(\"span\",{class:\"submit-wrapper\",children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[uploadingImage?\"Uploading Image...\":\"Loading...\",/*#__PURE__*/_jsx(\"span\",{className:\"loading\"}),/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"light\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Submit\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-long-arrow-right m-l-7\",\"aria-hidden\":\"true\"})]})})})]})]});}}),/*#__PURE__*/_jsx(\"div\",{id:\"dropDownSelect1\"})]});}","map":{"version":3,"names":["React","useState","useNavigate","useParams","BranchData","clubs","startRollNumber","studentYear","axios","Row","Col","Spinner","Button","Toast","ToastContainer","Form","BootstrapForm","Field","FieldArray","Formik","yup","phoneRegExp","requiredErrorMessage","emailErrorMessage","phoneErrorMessage","phoneLengthErrorMessage","quoteErrorMessage","duplicateErrorMessage","requestTimeOutErrorMessage","imageSizeErrorMessage","addMethod","array","errorMessage","test","value","path","createError","Set","length","message","string","console","log","finalLength","atob","substring","indexOf","validationSchema","object","shape","name","required","department","rollNumber","email","phone","matches","min","max","image","maxImageSize","distinctEntries","quote","wing","DetailsForm","getRollNumbers","rollNumbers","i","end","push","concat","additionalRollNumbers","navigate","uploadingImage","setUploadingImage","show","setShow","error","setError","toggleShow","initialValues","renderRollNumbers","map","renderClubOptions","club","handleFileUpload","e","values","setValues","reader","FileReader","file","target","files","onloadend","result","readAsDataURL","uploadImage","data","FormData","append","process","env","REACT_APP_CLOUDINARY_UPLOAD_PRESET","REACT_APP_CLOUDINARY_UPLOAD_FOLDER","post","REACT_APP_CLOUD_URL","response","url","code","stringify","renderErrorToast","checkIfAlreadyExists","REACT_APP_BACKEND_URL","handleSubmit","setSubmitting","imageUrl","success","toString","color","fontSize","marginTop","errors","touched","isSubmitting","field","form","meta","arrayHelpers","friend","index","remove"],"sources":["/Users/murtazamustafa/Desktop/CS/projects/yearbook/yearbook/client/src/components/DetailsForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { BranchData } from \"./constants/BranchData\";\nimport { clubs, startRollNumber, studentYear } from \"./constants\";\nimport axios from \"axios\";\nimport {\n  Row,\n  Col,\n  Spinner,\n  Button,\n  Toast,\n  ToastContainer,\n} from \"react-bootstrap\";\nimport \"./DetailsForm.css\";\nimport { Form as BootstrapForm } from \"react-bootstrap\";\nimport { Form, Field, FieldArray, Formik } from \"formik\";\nimport * as yup from \"yup\";\n\nconst phoneRegExp =\n  /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\n\nconst requiredErrorMessage = \"This field is required\";\nconst emailErrorMessage = \"This email id is invalid\";\nconst phoneErrorMessage = \"This phone number is invalid\";\nconst phoneLengthErrorMessage = \"This phone number can only be 10 characters\";\nconst quoteErrorMessage = \"Quote can only be 80 characters long\";\nconst duplicateErrorMessage = \"Duplicate club entries found !\";\nconst requestTimeOutErrorMessage =\n  \"Request Timed out! Please check your internet connection or please contact us if the issue persists.\";\nconst imageSizeErrorMessage = \"Image size cannot be greater than 5MB\";\n\nyup.addMethod(yup.array, \"distinctEntries\", function (errorMessage) {\n  return this.test(`test-distinct-entries`, errorMessage, function (value) {\n    const { path, createError } = this;\n\n    return (\n      [...new Set(value)].length === value.length ||\n      createError({ path, message: errorMessage })\n    );\n  });\n});\n\nyup.addMethod(yup.string, \"maxImageSize\", function (errorMessage) {\n  return this.test(`test-max-image-size`, errorMessage, function (value) {\n    const { path, createError } = this;\n\n    console.log(value);\n\n    let finalLength = value\n      ? atob(value.substring(value.indexOf(\",\") + 1)).length\n      : 0;\n\n    console.log(finalLength / (1024 * 1024));\n\n    return (\n      finalLength <= 5 * 1024 * 1024 ||\n      createError({ path, message: errorMessage })\n    );\n  });\n});\n\nconst validationSchema = yup.object().shape({\n  name: yup.string().required(requiredErrorMessage),\n  department: yup.string().required(requiredErrorMessage),\n  rollNumber: yup.string().required(requiredErrorMessage),\n  email: yup.string().required(requiredErrorMessage).email(emailErrorMessage),\n  phone: yup\n    .string()\n    .required(requiredErrorMessage)\n    .matches(phoneRegExp, phoneErrorMessage)\n    .min(10, phoneLengthErrorMessage)\n    .max(10, phoneLengthErrorMessage),\n  image: yup\n    .string()\n    .required(requiredErrorMessage)\n    .maxImageSize(imageSizeErrorMessage),\n  clubs: yup.array().distinctEntries(duplicateErrorMessage),\n  quote: yup.string().max(80, quoteErrorMessage),\n  wing: yup.string(),\n});\n\nexport default function DetailsForm() {\n  const { department } = useParams();\n  const getRollNumbers = () => {\n    var rollNumbers = [];\n\n    for (var i = startRollNumber; i <= BranchData[department].end; i++) {\n      rollNumbers.push(`${studentYear}${department}${i}`);\n    }\n    rollNumbers.concat(BranchData[department].additionalRollNumbers);\n\n    return rollNumbers;\n  };\n\n  const rollNumbers = getRollNumbers();\n  const navigate = useNavigate();\n\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [show, setShow] = useState(0);\n  const [error, setError] = useState(null);\n\n  const toggleShow = () => setShow(!show);\n\n  const initialValues = {\n    name: \"\",\n    department,\n    rollNumber: rollNumbers[0],\n    email: \"\",\n    phone: \"\",\n    image: \"\",\n    clubs: [],\n    quote: \"\",\n    wing: \"\",\n  };\n\n  const renderRollNumbers = () => {\n    return rollNumbers.map((rollNumber) => {\n      return (\n        <option\n          key={rollNumber}\n          value={`${rollNumber}`}\n        >{`${rollNumber}`}</option>\n      );\n    });\n  };\n\n  const renderClubOptions = () => {\n    return clubs.map((club) => {\n      return <option key={club} value={`${club}`}>{`${club}`}</option>;\n    });\n  };\n\n  const handleFileUpload = (e, values, setValues) => {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      // console.log(reader.result);\n      // field.onChange(e);\n\n      setValues({\n        ...values,\n        image: reader.result,\n      });\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const uploadImage = async (image) => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\n      \"upload_preset\",\n      process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\n    );\n    data.append(\"folder\", process.env.REACT_APP_CLOUDINARY_UPLOAD_FOLDER);\n\n    try {\n      const response = await axios.post(process.env.REACT_APP_CLOUD_URL, data);\n\n      console.log(response);\n\n      if (!response.data.url)\n        throw \"Sorry, could not upload image.Please try again later.\";\n\n      return response.data.url;\n    } catch (error) {\n      console.log(error);\n\n      if (error.code === \"ERR_NETWORK\") {\n        throw requestTimeOutErrorMessage;\n      }\n\n      throw error.stringify();\n    }\n  };\n\n  const renderErrorToast = () => {\n    return (\n      <>\n        {/* <Button onClick={toggleShow} className=\"mb-2\">\n          Toggle Toast <strong>with</strong> Animation\n        </Button> */}\n        <Toast show={show} onClose={toggleShow} className=\"error-toast-main\">\n          <Toast.Header className=\"error-toast-header\">\n            <strong className=\"ms-auto text-center error-toast-header-text\">\n              Error\n            </strong>\n          </Toast.Header>\n          <Toast.Body className=\"error-toast text-center\">{error}</Toast.Body>\n        </Toast>\n      </>\n    );\n  };\n\n  const checkIfAlreadyExists = async (rollNumber) => {\n    try {\n      const response = await axios.post(\n        `${process.env.REACT_APP_BACKEND_URL}/check/${rollNumber}`\n      );\n\n      console.log(\"Check if exists:\", response);\n\n      if (response.data.error) throw response.data.error;\n    } catch (error) {\n      if (error.code === \"ERR_NETWORK\") {\n        throw requestTimeOutErrorMessage;\n      }\n\n      throw error;\n    }\n  };\n\n  const handleSubmit = async (values, setSubmitting) => {\n    try {\n      await checkIfAlreadyExists(values.rollNumber);\n\n      setUploadingImage(1);\n      const imageUrl = await uploadImage(values.image);\n      setUploadingImage(0);\n\n      const response = await axios.post(\n        `${process.env.REACT_APP_BACKEND_URL}/submit`,\n        { ...values, image: imageUrl }\n      );\n\n      if (response.data.success) {\n        navigate(\"/submit\");\n      }\n\n      throw response.data.error;\n    } catch (error) {\n      const errorMessage = error.toString();\n\n      console.log(errorMessage);\n      setShow(1);\n      setError(errorMessage);\n    }\n    setSubmitting(false);\n  };\n\n  return (\n    <div className=\"DetailsForm\">\n      <div style={{ color: \"#808080\", fontSize: \"13px\", marginTop: \"5px\" }}>\n        <center>\n          For more information, contact Aditya Mitra (\n          <a href=\"tel:9038055767\">9038055767</a>) or M (\n          <a href=\"tel:9830372570\">9830372570</a>).\n        </center>\n      </div>\n\n      <Formik\n        initialValues={initialValues}\n        onSubmit={(values, { setSubmitting }) => {\n          console.log(values);\n\n          handleSubmit(values, setSubmitting);\n        }}\n        validationSchema={validationSchema}\n      >\n        {({ values, setValues, errors, touched, isSubmitting }) => (\n          <Form className=\"contact100-form\">\n            <Field name=\"name\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      <span>\n                        Full Name:\n                        <h5 style={{ color: \"red\" }}>*</h5>\n                      </span>\n                    </span>\n                    <input className=\"input100\" type=\"text\" {...field} />\n                    <span className=\"error focus-input100\"></span>\n                  </div>\n                  {errors.name && touched.name && (\n                    <div className=\"error-message\">{errors.name}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <Field name=\"department\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      <span>\n                        Department:\n                        <h5 style={{ color: \"red\" }}>*</h5>\n                      </span>\n                    </span>\n                    <input\n                      className=\"input100\"\n                      type=\"text\"\n                      {...field}\n                      readOnly\n                    />\n                    <span className=\"focus-input100\"></span>\n                  </div>\n                  {errors.department && touched.department && (\n                    <div className=\"error-message\">{errors.department}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <Field name=\"rollNumber\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      Roll No.\n                      <h5 style={{ color: \"red\" }}>*</h5>\n                    </span>\n\n                    <select className=\"input100\" name=\"rollNumber\" {...field}>\n                      {renderRollNumbers()}\n                    </select>\n                    <span className=\"focus-input100\"></span>\n                  </div>\n                  {errors.rollNumber && touched.rollNumber && (\n                    <div className=\"error-message\">{errors.rollNumber}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <Field name=\"email\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      <span>\n                        Email:\n                        <h5 style={{ color: \"red\" }}>*</h5>\n                      </span>\n                    </span>\n                    <input className=\"input100\" type=\"text\" {...field} />\n                    <span className=\"focus-input100\"></span>\n                  </div>\n                  {errors.email && touched.email && (\n                    <div className=\"error-message\">{errors.email}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <Field name=\"phone\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      <span>\n                        Phone:\n                        <h5 style={{ color: \"red\" }}>*</h5>\n                      </span>\n                    </span>\n                    <input className=\"input100\" type=\"text\" {...field} />\n                    <span className=\"focus-input100\"></span>\n                  </div>\n\n                  {errors.phone && touched.phone && (\n                    <div className=\"error-message\">{errors.phone}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <Field name=\"image\">\n              {({ field, form: { touched, errors }, meta }) => {\n                console.log(errors.image, touched);\n\n                return (\n                  <div class=\"input-wrapper\">\n                    <div className=\"wrap-input100 validate-input photo-wrapper\">\n                      <span className=\"label-input100\">\n                        Photo\n                        <h5 style={{ color: \"red\" }}>*</h5>\n                      </span>\n\n                      <BootstrapForm.Control\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                        onChange={(e) => {\n                          handleFileUpload(e, values, setValues);\n                        }}\n                      />\n\n                      {values.image ? (\n                        <img id=\"photo-display\" src={values.image} />\n                      ) : null}\n\n                      <span className=\"focus-input100\"></span>\n                    </div>\n\n                    {errors.image && touched.image && (\n                      <div className=\"error-message\">{errors.image}</div>\n                    )}\n                  </div>\n                );\n              }}\n            </Field>\n\n            <FieldArray name=\"clubs\">\n              {(arrayHelpers) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">Clubs:</span>\n\n                    <div class=\"d-grid gap-2\">\n                      <button\n                        className=\"btn btn-success add-button\"\n                        type=\"button\"\n                        onClick={() => arrayHelpers.push(clubs[0])}\n                      >\n                        Add Club(s)\n                      </button>\n                    </div>\n\n                    {values.clubs && values.clubs.length > 0\n                      ? values.clubs.map((friend, index) => (\n                          <div key={index}>\n                            <Row>\n                              <Col xs={10}>\n                                <Field\n                                  className=\"input-wrapper\"\n                                  name={`clubs.${index}`}\n                                >\n                                  {({\n                                    field,\n                                    form: { touched, errors },\n                                    meta,\n                                  }) => (\n                                    <div className=\"wrap-input100 club-options-render\">\n                                      <select\n                                        className=\"input100\"\n                                        {...field}\n                                        size=\"sm\"\n                                      >\n                                        {renderClubOptions()}\n                                      </select>\n                                      <span className=\"focus-input100\"></span>\n                                    </div>\n                                  )}\n                                </Field>\n                              </Col>\n                              <Col>\n                                <button\n                                  type=\"button\"\n                                  class=\"btn-close\"\n                                  aria-label=\"Close\"\n                                  onClick={() => arrayHelpers.remove(index)}\n                                ></button>\n                              </Col>\n                            </Row>\n\n                            <span className=\"focus-input100\"></span>\n                          </div>\n                        ))\n                      : null}\n                  </div>\n\n                  {errors.clubs && (\n                    <div className=\"error-message\">{errors.clubs}</div>\n                  )}\n                </div>\n              )}\n            </FieldArray>\n\n            <Field name=\"wing\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      <span>Wing:</span>\n                    </span>\n                    <input className=\"input100\" type=\"text\" {...field} />\n                    <span className=\"focus-input100\"></span>\n                  </div>\n                  {errors.wing && touched.wing && (\n                    <div className=\"error-message\">{errors.wing}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <Field name=\"quote\">\n              {({ field, form: { touched, errors }, meta }) => (\n                <div class=\"input-wrapper\">\n                  <div className=\"wrap-input100\">\n                    <span className=\"label-input100\">\n                      <span>Quote:</span>\n                    </span>\n                    <input className=\"input100\" type=\"text\" {...field} />\n                    <span className=\"focus-input100\"></span>\n                  </div>\n                  {errors.quote && touched.quote && (\n                    <div className=\"error-message\">{errors.quote}</div>\n                  )}\n                </div>\n              )}\n            </Field>\n\n            <div className=\"container-contact100-form-btn d-grid gap-2\">\n              {show ? renderErrorToast() : null}\n\n              <button\n                className=\"btn-block contact100-form-btn\"\n                disabled={isSubmitting}\n                type=\"submit\"\n              >\n                <span class=\"submit-wrapper\">\n                  {isSubmitting ? (\n                    <>\n                      {uploadingImage ? \"Uploading Image...\" : \"Loading...\"}\n                      <span className=\"loading\"></span>\n                      <Spinner animation=\"border\" variant=\"light\" />\n                    </>\n                  ) : (\n                    <>\n                      Submit\n                      <i\n                        className=\"fa fa-long-arrow-right m-l-7\"\n                        aria-hidden=\"true\"\n                      ></i>\n                    </>\n                  )}\n                </span>\n              </button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n\n      <div id=\"dropDownSelect1\"></div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}